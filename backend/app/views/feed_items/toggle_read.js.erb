// Mise à jour de l'interface après changement de statut
var itemId = <%= @feed_item.id %>;
var card = document.getElementById('feed-item-' + itemId);
var button = card.querySelector('.toggle-read-btn');

if (<%= @feed_item.read %>) {
  card.classList.remove('unread');
  button.textContent = 'Marquer non lu';
  button.className = 'btn btn-sm btn-outline-secondary toggle-read-btn';
} else {
  card.classList.add('unread');
  button.textContent = 'Marquer lu';
  button.className = 'btn btn-sm btn-success toggle-read-btn';
}

// Mise à jour du compteur de non lus
var unreadItems = document.querySelectorAll('.feed-item.unread');
var badge = document.querySelector('.badge-primary');
if (badge) {
  badge.textContent = unreadItems.length + ' non lus';
} 